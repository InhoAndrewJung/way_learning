<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="techReplyMapper">

	<insert id="insertReply" >
	
		 insert into wl_tech_reply (reply_no, board_no, replyer, replytext)
 values( wl_tech_reply_SEQ.nextval , #{boardNo},#{member.userId},#{replytext})
 
 
		 
	</insert>
	
	<resultMap type="techReply" id="replyListRM">
		<result property="replyNo" column="reply_no"/>
		<result property="boardNo" column="board_no"/>
		<result property="replytext" column="replytext"/>
		<result property="member.userId" column="replyer"/>
		
		<result property="regdate" column="reg_date"/>
	
	
		
	</resultMap>
	
	
	
	<select id="listReply" resultMap="replyListRM" parameterType="string">
	
			 select tr.board_no,reply_no,replytext, replyer ,tr.reg_date  
			 from  wl_tech_reply tr, wl_member m where m.user_id =tr.replyer and board_no=#{boardNo}  order by reply_no asc
	
	</select>
	
	<select id="selectWriter" resultType="string">
		select writer from wl_tech_board where  board_no=#{boardNo}
	</select>
	
	<update id="updateReply">
	update wl_tech_reply set replytext=#{replytext} where reply_no=#{replyNo}
	</update>
	
	<select id="selectUpdatedReply" resultType="string">
	
	select replyText from wl_tech_reply where reply_no=#{replyNo}
	</select>
	
	<delete id="deleteReply" >
		delete from wl_tech_reply where reply_no=#{replyNo}
	</delete>
	
	
	


	
	
</mapper>	


















































